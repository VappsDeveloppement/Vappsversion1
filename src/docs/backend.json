
{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the VApps Success Hub platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user."
        },
        "firstName": {
          "type": "string",
          "description": "The first name of the user."
        },
        "lastName": {
          "type": "string",
          "description": "The last name of the user."
        },
        "email": {
          "type": "string",
          "description": "The email address of the user.",
          "format": "email"
        },
        "contactEmail": {
          "type": "string",
          "description": "The professional contact email address of the user, for client-facing communication.",
          "format": "email"
        },
        "role": {
          "type": "string",
          "enum": ["superadmin", "conseiller", "membre", "moderateur"],
          "description": "The global role of the user on the platform. 'superadmin' has all rights. 'conseiller' is a coach. 'membre' is a standard user/client. 'moderateur' has moderation rights."
        },
        "permissions": {
            "type": "array",
            "description": "A list of special permissions granted to the user, like 'FULLACCESS' for admin rights.",
            "items": { "type": "string" }
        },
        "counselorIds": {
            "type": "array",
            "description": "A list of counselor IDs this user is a client of. Enables many-to-many relationships.",
            "items": { "type": "string" }
        },
        "dateJoined": {
          "type": "string",
          "description": "The date and time the user joined the platform.",
          "format": "date-time"
        },
        "phone": {
          "type": "string",
          "description": "The user's phone number."
        },
        "address": {
          "type": "string",
          "description": "The user's street address."
        },
        "zipCode": {
          "type": "string",
          "description": "The user's postal code."
        },
        "city": {
          "type": "string",
          "description": "The user's city."
        },
        "commercialName": {
            "type": "string",
            "description": "The user's commercial or business name, if applicable."
        },
        "siret": {
            "type": "string",
            "description": "The user's SIRET number for their business."
        },
        "isVatSubject": {
          "type": "boolean",
          "description": "Indicates if the user (conseiller) is subject to VAT."
        },
        "vatRate": {
          "type": "number",
          "description": "The VAT rate applicable to the user, if subject."
        },
        "vatNumber": {
            "type": "string",
            "description": "The user's VAT number, if applicable."
        },
        "socialSecurityNumber": {
          "type": "string",
          "description": "The user's social security number."
        },
        "franceTravailId": {
          "type": "string",
          "description": "The user's France Travail identifier."
        },
        "origin": {
            "type": "string",
            "description": "Source of user creation (e.g., 'Footer Contact Form')."
        },
        "status": {
            "type": "string",
            "enum": ["new", "contacted", "not_interested"],
            "description": "Status for a prospect (e.g., new, contacted)."
        },
        "message": {
          "type": "string",
          "description": "The message sent by the prospect from the contact form."
        },
        "lastSignInTime": {
          "type": "string",
          "format": "date-time",
          "description": "The last time the user signed in, synced from Firebase Auth."
        },
        "gdprReportedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp for when an admin reports an inactivity alert for this user."
        },
        "photoUrl": {
            "type": "string",
            "format": "uri",
            "description": "URL of the user's public profile photo."
        },
        "publicProfileName": {
            "type": "string",
            "description": "The user-defined public name for their mini-site URL."
        },
        "publicTitle": {
            "type": "string",
            "description": "Public-facing professional title for the counselor (e.g., 'Coach en développement personnel')."
        },
        "publicBio": {
            "type": "string",
            "description": "Public-facing biography for the counselor's profile page."
        },
        "miniSite": {
            "$ref": "#/entities/MiniSite"
        },
        "dashboardTheme": {
            "type": "object",
            "description": "Color personalization settings for the counselor's own dashboard.",
            "properties": {
                "primaryColor": { "type": "string" },
                "secondaryColor": { "type": "string" },
                "bgColor": { "type": "string" }
            }
        },
        "planId": {
            "type": "string",
            "description": "The ID of the Plan the user is subscribed to."
        },
        "subscriptionStatus": {
            "type": "string",
            "enum": ["pending_payment", "active", "cancelled", "trial"],
            "description": "The status of the user's subscription."
        }
      },
      "required": [
        "firstName",
        "lastName",
        "email",
        "role",
        "dateJoined"
      ]
    },
    "ContactMessage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Contact Message",
      "type": "object",
      "description": "Represents a message submitted through a public contact form.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "phone": { "type": "string" },
        "subject": { "type": "string" },
        "message": { "type": "string" },
        "status": { "type": "string", "enum": ["new", "read", "archived"], "default": "new" },
        "createdAt": { "type": "string", "format": "date-time" },
        "recipientId": { "type": "string", "description": "ID of the counselor or 'agency' for the recipient."}
      },
      "required": ["id", "name", "email", "subject", "message", "status", "createdAt"]
    },
    "Quote": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Quote",
      "type": "object",
      "description": "Represents a quote for services.",
      "properties": {
        "id": { "type": "string" },
        "quoteNumber": { "type": "string" },
        "counselorId": { "type": "string" },
        "clientId": { "type": "string" },
        "clientInfo": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "email": { "type": "string", "format": "email" }
          }
        },
        "issueDate": { "type": "string", "format": "date-time" },
        "expiryDate": { "type": "string", "format": "date-time" },
        "items": { "type": "array", "items": { "type": "object" } },
        "subtotal": { "type": "number" },
        "tax": { "type": "number" },
        "total": { "type": "number" },
        "status": { "type": "string", "enum": ["draft", "sent", "accepted", "rejected"] },
        "notes": { "type": "string" },
        "contractId": { "type": "string" },
        "validationCode": { "type": "string" }
      },
      "required": ["id", "quoteNumber", "counselorId", "clientId", "issueDate", "total", "status", "items"]
    },
    "Invoice": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Invoice",
      "type": "object",
      "description": "Represents a billing invoice for services rendered.",
      "properties": {
        "id": { "type": "string" },
        "invoiceNumber": { "type": "string" },
        "counselorId": { "type": "string" },
        "clientId": { "type": "string" },
        "clientInfo": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "email": { "type": "string", "format": "email" }
          }
        },
        "issueDate": { "type": "string", "format": "date-time" },
        "dueDate": { "type": "string", "format": "date-time" },
        "items": { "type": "array", "items": { "type": "object" } },
        "subtotal": { "type": "number" },
        "tax": { "type": "number" },
        "total": { "type": "number" },
        "status": { "type": "string", "enum": ["pending_payment", "paid", "late", "cancelled"] },
        "notes": { "type": "string" },
        "quoteNumber": { "type": "string" }
      },
      "required": ["id", "invoiceNumber", "counselorId", "clientId", "issueDate", "dueDate", "total", "status", "items"]
    },
    "MiniSite": {
        "title": "MiniSite",
        "type": "object",
        "description": "Personalization settings for the counselor's mini-site.",
        "properties": {
            "publicProfileName": {
                "type": "string",
                "description": "The public-facing URL slug for the mini-site."
            },
            "hero": {
                "type": "object",
                "properties": {
                    "title": { "type": "string" },
                    "subtitle": { "type": "string" },
                    "description": { "type": "string" },
                    "ctaText": { "type": "string" },
                    "ctaLink": { "type": "string" },
                    "cta2Text": { "type": "string" },
                    "cta2Link": { "type": "string" },
                    "showPhoto": { "type": "boolean" },
                    "showPhone": { "type": "boolean" },
                    "showLocation": { "type": "boolean" },
                    "bgColor": { "type": "string" },
                    "bgImageUrl": { "type": "string", "format": "uri" },
                    "titleColor": { "type": "string" },
                    "subtitleColor": { "type": "string" }
                }
            },
            "attentionSection": {
                "type": "object",
                "properties": {
                    "enabled": { "type": "boolean" },
                    "title": { "type": "string" },
                    "subtitle": { "type": "string" },
                    "text": { "type": "string" },
                    "titleColor": { "type": "string" },
                    "subtitleColor": { "type": "string" },
                    "bgColor": { "type": "string" }
                }
            },
            "aboutSection": {
                "type": "object",
                "properties": {
                    "enabled": { "type": "boolean" },
                    "title": { "type": "string" },
                    "subtitle": { "type": "string" },
                    "text": { "type": "string" },
                    "imageUrl": { "type": "string", "format": "uri" }
                }
            },
            "servicesSection": {
                "type": "object",
                "properties": {
                    "enabled": { "type": "boolean" },
                    "title": { "type": "string" },
                    "subtitle": { "type": "string" },
                    "services": { 
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "id": { "type": "string" },
                                "title": { "type": "string" },
                                "description": { "type": "string" },
                                "imageUrl": { "type": "string", "format": "uri" }
                            }
                        }
                    }
                }
            },
            "parcoursSection": {
              "type": "object",
              "properties": {
                "enabled": { "type": "boolean" },
                "title": { "type": "string" },
                "subtitle": { "type": "string" },
                "steps": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string" },
                      "title": { "type": "string" },
                      "description": { "type": "string" }
                    }
                  }
                }
              }
            },
            "ctaSection": {
                "type": "object",
                "properties": {
                    "enabled": { "type": "boolean" },
                    "title": { "type": "string" },
                    "subtitle": { "type": "string" },
                    "text": { "type": "string" },
                    "buttonText": { "type": "string" },
                    "buttonLink": { "type": "string" },
                    "bgColor": { "type": "string" },
                    "bgImageUrl": { "type": "string", "format": "uri" }
                }
            },
            "pricingSection": {
                "type": "object",
                "properties": {
                    "enabled": { "type": "boolean" },
                    "title": { "type": "string" },
                    "subtitle": { "type": "string" },
                    "planIds": { 
                        "type": "array",
                        "items": { "type": "string" }
                    }
                }
            },
            "testimonialsSection": {
                "type": "object",
                "properties": {
                    "enabled": { "type": "boolean" },
                    "title": { "type": "string" },
                    "subtitle": { "type": "string" },
                    "testimonials": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "id": { "type": "string" },
                                "authorName": { "type": "string" },
                                "authorTitle": { "type": "string" },
                                "text": { "type": "string" },
                                "photoUrl": { "type": "string", "format": "uri" }
                            }
                        }
                    }
                }
            },
            "activitiesSection": {
                "type": "object",
                "properties": {
                    "enabled": { "type": "boolean" },
                    "title": { "type": "string" },
                    "text": { "type": "string" },
                    "mediaType": { "type": "string", "enum": ["image", "video"] },
                    "imageUrl": { "type": "string", "format": "uri" },
                    "videoUrl": { "type": "string", "format": "uri" },
                    "interestsTitle": { "type": "string" },
                    "interests": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "id": { "type": "string" },
                                "text": { "type": "string" },
                                "link": { "type": "string", "format": "uri" }
                            },
                            "required": ["id", "text"]
                        }
                    },
                    "events": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "title": { "type": "string" },
                          "date": { "type": "string" }
                        }
                      }
                    },
                    "eventsButtonText": { "type": "string" },
                    "eventsButtonLink": { "type": "string" }
                }
            },
            "jobOffersSection": {
                "type": "object",
                "properties": {
                    "enabled": { "type": "boolean" },
                    "title": { "type": "string" },
                    "subtitle": { "type": "string" },
                    "offers": {
                        "type": "array",
                        "items": {
                            "$ref": "#/entities/JobOffer"
                        }
                    }
                }
            },
            "blogSection": {
                "type": "object",
                "properties": {
                    "enabled": { "type": "boolean" },
                    "title": { "type": "string" },
                    "subtitle": { "type": "string" }
                }
            },
            "trainingCatalogSection": {
                "type": "object",
                "properties": {
                    "enabled": { "type": "boolean" },
                    "title": { "type": "string" },
                    "subtitle": { "type": "string" }
                }
            },
            "productsSection": {
                "type": "object",
                "properties": {
                    "enabled": { "type": "boolean" },
                    "title": { "type": "string" },
                    "subtitle": { "type": "string" },
                    "description": { "type": "string" },
                    "buttonText": { "type": "string" },
                    "buttonLink": { "type": "string", "format": "uri" }
                }
            },
            "contactSection": {
                "type": "object",
                "properties": {
                    "enabled": { "type": "boolean" },
                    "title": { "type": "string" },
                    "subtitle": { "type": "string" },
                    "commercialName": { "type": "string" },
                    "siret": { "type": "string" },
                    "address": { "type": "string" },
                    "zipCode": { "type": "string" },
                    "city": { "type": "string" },
                    "email": { "type": "string", "format": "email" },
                    "phone": { "type": "string" },
                    "socialLinks": {
                        "type": "object",
                        "properties": {
                            "facebook": { "type": "string", "format": "uri" },
                            "instagram": { "type": "string", "format": "uri" },
                            "x": { "type": "string", "format": "uri" },
                            "linkedin": { "type": "string", "format": "uri" },
                            "tiktok": { "type": "string", "format": "uri" },
                            "youtube": { "type": "string", "format": "uri" }
                        }
                    }
                }
            }
        }
    },
    "CounselorProfile": {
        "title": "Counselor Profile",
        "type": "object",
        "description": "Public-facing profile for a counselor's mini-site.",
        "properties": {
            "id": { "type": "string" },
            "firstName": { "type": "string" },
            "lastName": { "type": "string" },
            "email": { "type": "string", "format": "email" },
            "phone": { "type": "string" },
            "city": { "type": "string" },
            "photoUrl": { "type": "string", "format": "uri" },
            "publicTitle": { "type": "string" },
            "publicBio": { "type": "string" },
            "miniSite": { "$ref": "#/entities/MiniSite" },
            "dashboardTheme": {
                "type": "object",
                "properties": {
                    "primaryColor": { "type": "string" },
                    "secondaryColor": { "type": "string" },
                    "bgColor": { "type": "string" }
                }
            }
        },
        "required": ["id", "firstName", "lastName", "email"]
    },
    "Agency": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Agency",
      "type": "object",
      "description": "Represents the single, central entity for platform-wide personalization.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the agency (e.g., 'vapps-agency')." },
        "name": { "type": "string", "description": "The name of the agency." },
        "personalization": {
          "type": "object",
          "description": "All personalization settings for the agency.",
          "properties": {
            "appTitle": { "type": "string" },
            "appSubtitle": { "type": "string" },
            "logoDataUrl": { "type": "string", "format": "uri" },
            "logoWidth": { "type": "number" },
            "logoHeight": { "type": "number" },
            "logoDisplay": { "type": "string" },
            "primaryColor": { "type": "string" },
            "secondaryColor": { "type": "string" },
            "bgColor": { "type": "string" },
            "footerAboutTitle": { "type": "string" },
            "footerAboutText": { "type": "string" },
            "footerAboutLinks": { "type": "array", "items": { "type": "object" } },
            "footerSocialLinks": { "type": "array", "items": { "type": "object" } },
            "copyrightText": { "type": "string" },
            "copyrightUrl": { "type": "string" },
            "homePageVersion": { "type": "string" },
            "homePageSections": { "type": "array", "items": { "type": "object" } },
            "legalInfo": { "type": "object" },
            "whiteLabelSection": { "$ref": "#/entities/WhiteLabelSection" },
            "otherActivitiesSection": {
                "type": "object",
                "properties": {
                    "title": { "type": "string" },
                    "description": { "type": "string" },
                    "activities": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "id": { "type": "string" },
                                "title": { "type": "string" },
                                "description": { "type": "string" },
                                "imageUrl": { "type": "string", "format": "uri" }
                            }
                        }
                    },
                    "eventsButtonText": { "type": "string" },
                    "eventsButtonLink": { "type": "string" }
                }
            },
            "betaTesting": {
                "type": "object",
                "properties": {
                    "testUrl": { "type": "string", "format": "uri" }
                }
            }
          }
        }
      },
      "required": ["id", "name"]
    },
    "SubscriptionPlan": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "SubscriptionPlan",
      "type": "object",
      "description": "Represents a pricing plan for the white-label service.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "description": { "type": "string" },
        "price": { "type": "number" },
        "period": { "type": "string", "description": "e.g., /mois, /an" },
        "features": { "type": "array", "items": { "type": "string" } },
        "isFeatured": { "type": "boolean" },
        "isPublic": { "type": "boolean" },
        "hasPrismeAccess": { "type": "boolean", "description": "Whether this plan grants access to the Prisme feature." },
        "hasVitaeAccess": { "type": "boolean", "description": "Whether this plan grants access to the Vitae feature." },
        "hasAuraAccess": { "type": "boolean", "description": "Whether this plan grants access to the Aura feature." },
        "imageUrl": { "type": "string", "format": "uri" },
        "cta": { "type": "string" },
        "contractId": { "type": "string" },
        "paypalSubscriptionId": { "type": "string" }
      },
      "required": ["id", "name", "price", "period"]
    },
    "WhiteLabelSection": {
        "title": "White Label Section",
        "type": "object",
        "description": "Content for the white label section on the homepage.",
        "properties": {
            "title": { "type": "string" },
            "description": { "type": "string" },
            "mediaType": { "type": "string", "enum": ["video", "image"] },
            "videoUrl": { "type": "string", "format": "uri" },
            "imageUrl": { "type": "string", "format": "uri" },
            "stats": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "id": { "type": "string" },
                        "icon": { "type": "string" },
                        "value": { "type": "string" },
                        "label": { "type": "string" }
                    }
                }
            },
            "plans": {
                "type": "array",
                "items": { "$ref": "#/entities/SubscriptionPlan" }
            }
        }
    },
    "Appointment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Appointment",
      "type": "object",
      "description": "Represents a scheduled appointment between a coach and a client.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the appointment."
        },
        "coachId": {
          "type": "string",
          "description": "Reference to User representing the coach. (Relationship: User 1:N Appointment)"
        },
        "clientId": {
          "type": "string",
          "description": "Reference to User representing the client. (Relationship: User 1:N Appointment)"
        },
        "startTime": {
          "type": "string",
          "description": "The start date and time of the appointment.",
          "format": "date-time"
        },
        "endTime": {
          "type": "string",
          "description": "The end date and time of the appointment.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "The status of the appointment (e.g., scheduled, completed, cancelled)."
        },
        "notes": {
          "type": "string",
          "description": "Notes related to the appointment"
        }
      },
      "required": [
        "id",
        "coachId",
        "clientId",
        "startTime",
        "endTime",
        "status"
      ]
    },
    "EmailCampaign": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "EmailCampaign",
      "type": "object",
      "description": "Represents an email marketing campaign.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the email campaign."
        },
        "name": {
          "type": "string",
          "description": "The name of the email campaign."
        },
        "subject": {
          "type": "string",
          "description": "The subject line of the email campaign."
        },
        "body": {
          "type": "string",
          "description": "The HTML or plain text body of the email campaign."
        },
        "segment": {
          "type": "string",
          "description": "User segment targeted by the email campaign (e.g., new sign-ups, inactive users)."
        },
        "scheduledTime": {
          "type": "string",
          "description": "The date and time the email campaign is scheduled to be sent.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "The status of the email campaign (e.g., draft, scheduled, sent, completed)."
        }
      },
      "required": [
        "id",
        "name",
        "subject",
        "body",
        "segment",
        "scheduledTime",
        "status"
      ]
    },
    "Message": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Message",
      "type": "object",
      "description": "Represents a message sent between users on the platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the message."
        },
        "senderId": {
          "type": "string",
          "description": "Reference to User who sent the message. (Relationship: User 1:N Message)"
        },
        "recipientId": {
          "type": "string",
          "description": "Reference to User who received the message. (Relationship: User 1:N Message)"
        },
        "timestamp": {
          "type": "string",
          "description": "The date and time the message was sent.",
          "format": "date-time"
        },
        "content": {
          "type": "string",
          "description": "The content of the message."
        },
        "isRead": {
          "type": "boolean",
          "description": "Indicates whether the recipient has read the message."
        }
      },
      "required": [
        "id",
        "senderId",
        "recipientId",
        "timestamp",
        "content",
        "isRead"
      ]
    },
    "Consent": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Consent",
      "type": "object",
      "description": "Represents a user's consent to data processing, in line with GDPR.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the consent record."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User who provided consent. (Relationship: User 1:N Consent)"
        },
        "consentType": {
          "type": "string",
          "description": "The type of consent (e.g., marketing emails, data sharing)."
        },
        "consentGiven": {
          "type": "boolean",
          "description": "Indicates whether the user has given consent."
        },
        "timestamp": {
          "type": "string",
          "description": "The date and time the consent was given or withdrawn.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "consentType",
        "consentGiven",
        "timestamp"
      ]
    },
    "LandingPage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "LandingPage",
      "type": "object",
      "description": "Represents the configuration and content of the landing page.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the landing page configuration."
        },
        "title": {
          "type": "string",
          "description": "The title of the landing page."
        },
        "content": {
          "type": "string",
          "description": "The content of the landing page, stored as HTML or JSON."
        },
        "lastUpdated": {
          "type": "string",
          "description": "The date and time the landing page was last updated.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "The status of the landing page (e.g., draft, published)."
        }
      },
      "required": [
        "id",
        "title",
        "content",
        "lastUpdated",
        "status"
      ]
    },
    "GdprRequest": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "GDPR Request",
        "type": "object",
        "description": "Represents a user request related to their personal data.",
        "properties": {
            "id": { "type": "string" },
            "counselorId": { "type": "string", "description": "ID of the counselor this request is directed to, if applicable." },
            "name": { "type": "string" },
            "email": { "type": "string", "format": "email" },
            "phone": { "type": "string" },
            "subject": { "type": "string" },
            "message": { "type": "string" },
            "status": { "type": "string", "enum": ["new", "in_progress", "closed"] },
            "createdAt": { "type": "string", "format": "date-time" }
        },
        "required": ["id", "name", "email", "phone", "subject", "message", "status", "createdAt"]
    },
    "SupportRequest": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "Support Request",
        "type": "object",
        "description": "Represents a technical support request for the application.",
        "properties": {
            "id": { "type": "string" },
            "name": { "type": "string" },
            "email": { "type": "string", "format": "email" },
            "phone": { "type": "string" },
            "subject": { "type": "string" },
            "message": { "type": "string" },
            "status": { "type": "string", "enum": ["new", "in_progress", "closed"] },
            "createdAt": { "type": "string", "format": "date-time" }
        },
        "required": ["id", "name", "email", "phone", "subject", "message", "status", "createdAt"]
    },
    "FaqItem": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FAQ Item",
      "type": "object",
      "description": "Represents a single question and answer item in a FAQ.",
      "properties": {
        "id": { "type": "string" },
        "category": { "type": "string", "description": "The category or theme of the question." },
        "question": { "type": "string", "description": "The FAQ question." },
        "content": { "type": "string", "description": "The answer content in HTML format." },
        "videoUrl": { "type": "string", "format": "uri", "description": "URL of an associated video." },
        "pdfUrls": { "type": "array", "items": { "type": "object", "properties": { "name": { "type": "string" }, "url": { "type": "string", "format": "uri" } } }, "description": "List of URLs to associated PDF documents." },
        "scope": { "type": "string", "enum": ["general", "counselor"], "description": "Defines if the FAQ is for the whole platform or a specific counselor." },
        "counselorId": { "type": "string", "description": "The ID of the counselor this FAQ item belongs to, if scope is 'counselor'." }
      },
      "required": ["id", "category", "question", "content", "scope"]
    },
    "JobOffer": {
        "title": "Job Offer",
        "type": "object",
        "description": "Represents a single job offer.",
        "properties": {
            "id": { "type": "string" },
            "title": { "type": "string" },
            "contractType": { "type": "string" },
            "location": { "type": "string" }
        },
        "required": ["id", "title", "contractType", "location"]
    },
    "BetaScenario": {
      "title": "Beta Scenario",
      "type": "object",
      "description": "A scenario for beta testing.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "roles": { "type": "array" }
      },
      "required": ["id", "name", "roles"]
    },
    "BetaTestResult": {
      "title": "Beta Test Result",
      "type": "object",
      "description": "Stores the results of a public beta test session.",
      "properties": {
        "id": { "type": "string" },
        "tester": {
          "type": "object",
          "properties": {
            "firstName": { "type": "string" },
            "lastName": { "type": "string" },
            "email": { "type": "string", "format": "email" }
          }
        },
        "results": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "testCaseId": { "type": "string" },
              "note": { "type": "string" },
              "status": { "type": "string", "enum": ["passed", "failed", "blocked", "pending"] }
            }
          }
        },
        "globalRating": { "type": "number" },
        "isInterested": { "type": "boolean" },
        "submittedAt": { "type": "string", "format": "date-time" }
      },
      "required": ["tester", "results", "globalRating", "isInterested", "submittedAt"]
    },
    "BlogCategory": {
      "title": "Blog Category",
      "type": "object",
      "description": "A category for blog articles.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" }
      },
      "required": ["id", "name"]
    },
    "BlogArticle": {
      "title": "Blog Article",
      "type": "object",
      "description": "A blog article written by a counselor.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "content": { "type": "string", "format": "html" },
        "imageUrl": { "type": "string", "format": "uri" },
        "categoryId": { "type": "string" },
        "authorId": { "type": "string" },
        "authorName": { "type": "string" },
        "authorPhotoUrl": { "type": "string", "format": "uri" },
        "status": { "type": "string", "enum": ["draft", "pending", "published", "rejected"] },
        "rejectionReason": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" },
        "publishedAt": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "title", "content", "categoryId", "authorId", "authorName", "status", "createdAt"]
    },
    "Event": {
      "title": "Event",
      "type": "object",
      "description": "Represents an event created by a counselor.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "date": { "type": "string", "format": "date-time" },
        "location": { "type": "string" },
        "meetLink": { "type": "string", "format": "uri" },
        "counselorId": { "type": "string" },
        "isPublic": { "type": "boolean", "default": false },
        "imageUrl": { "type": "string", "format": "uri" },
        "maxAttendees": { "type": "number" },
        "registrationsCount": { "type": "number" },
        "prismeConfig": {
            "type": "object",
            "description": "Configuration for the Prisme live session.",
            "properties": {
                "sessionType": { "type": "string", "enum": ["cartomancie", "clairvoyance"] },
                "tirageModelId": { "type": "string" },
                "deckId": { "type": "string" },
                "clairvoyanceModelId": { "type": "string" }
            }
        }
      },
      "required": ["title", "date", "counselorId"]
    },
    "EventRegistration": {
      "title": "Event Registration",
      "type": "object",
      "description": "Represents a user's registration for an event.",
      "properties": {
        "id": { "type": "string" },
        "eventId": { "type": "string" },
        "userId": { "type": "string" },
        "userName": { "type": "string" },
        "userEmail": { "type": "string", "format": "email" },
        "registeredAt": { "type": "string", "format": "date-time" }
      },
      "required": ["eventId", "userId", "registeredAt"]
    },
    "TirageModel": {
      "title": "Tirage Model",
      "type": "object",
      "description": "A template for a cartomancy card spread.",
      "properties": {
        "id": { "type": "string" },
        "counselorId": { "type": "string" },
        "name": { "type": "string", "description": "e.g., 'Tirage en Croix'" },
        "description": { "type": "string" },
        "positions": {
          "type": "array",
          "description": "The positions of the cards in the spread.",
          "items": {
            "type": "object",
            "properties": {
              "positionNumber": { "type": "number" },
              "meaning": { "type": "string", "description": "e.g., 'Le Passé', 'L'obstacle'" }
            },
            "required": ["positionNumber", "meaning"]
          }
        }
      },
      "required": ["counselorId", "name", "positions"]
    },
    "CardDeck": {
      "title": "Card Deck",
      "type": "object",
      "description": "A collection of cartomancy cards, like a tarot or oracle deck.",
      "properties": {
        "id": { "type": "string" },
        "counselorId": { "type": "string" },
        "name": { "type": "string", "description": "e.g., 'Tarot de Marseille'" },
        "description": { "type": "string" }
      },
      "required": ["counselorId", "name"]
    },
    "Card": {
      "title": "Card",
      "type": "object",
      "description": "A single card within a deck.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string", "description": "e.g., 'Le Bateleur'" },
        "description": { "type": "string", "description": "The meaning or interpretation of the card." },
        "imageUrl": { "type": "string", "format": "uri" }
      },
      "required": ["name"]
    },
    "ClairvoyanceModel": {
      "title": "Clairvoyance Model",
      "type": "object",
      "description": "A template for clairvoyance or pendulum readings.",
      "properties": {
        "id": { "type": "string" },
        "counselorId": { "type": "string" },
        "name": { "type": "string", "description": "e.g., 'Planche Pendule Oui/Non'" },
        "description": { "type": "string" },
        "imageUrl": { "type": "string", "format": "uri" },
        "characteristics": {
          "type": "array",
          "description": "Predefined text snippets for responses.",
          "items": {
            "type": "object",
            "properties": {
              "id": { "type": "string" },
              "text": { "type": "string" }
            },
            "required": ["id", "text"]
          }
        }
      },
      "required": ["counselorId", "name"]
    },
    "Consultation": {
      "title": "Consultation",
      "type": "object",
      "description": "Represents a single consultation (question + result) within a live Prisme session.",
      "properties": {
        "id": { "type": "string" },
        "participantName": { "type": "string" },
        "participantDob": { "type": "string", "format": "date" },
        "question": { "type": "string" },
        "result": {
          "type": "object",
          "properties": {
            "drawnCards": {
              "type": "array",
              "items": { "type": "object" }
            },
            "selectedCharacteristics": {
              "type": "array",
              "items": { "type": "object" }
            }
          }
        },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "participantName", "question", "createdAt"]
    },
    "LiveFollowUpRequest": {
        "title": "Live Follow-Up Request",
        "type": "object",
        "description": "A request from a participant for a follow-up after a live session.",
        "properties": {
            "id": { "type": "string" },
            "name": { "type": "string" },
            "dob": { "type": "string", "format": "date" },
            "email": { "type": "string", "format": "email" },
            "phone": { "type": "string" },
            "liveDate": { "type": "string", "format": "date" },
            "wantsContact": { "type": "boolean" },
            "status": { "type": "string", "enum": ["new", "processed"], "default": "new" },
            "createdAt": { "type": "string", "format": "date-time" },
            "counselorId": { "type": "string", "description": "ID of the counselor who hosted the live." }
        },
        "required": ["id", "name", "email", "liveDate", "wantsContact", "status", "createdAt", "counselorId"]
    },
    "TrainingRequest": {
        "title": "Training Request",
        "type": "object",
        "description": "A request from a user for more information about a training.",
        "properties": {
            "id": { "type": "string" },
            "trainingId": { "type": "string" },
            "trainingTitle": { "type": "string" },
            "counselorId": { "type": "string" },
            "name": { "type": "string" },
            "email": { "type": "string", "format": "email" },
            "phone": { "type": "string" },
            "message": { "type": "string" },
            "status": { "type": "string", "enum": ["new", "processed"], "default": "new" },
            "createdAt": { "type": "string", "format": "date-time" }
        },
        "required": ["id", "trainingId", "trainingTitle", "counselorId", "name", "email", "message", "status", "createdAt"]
    },
    "TrainingCategory": {
      "title": "Training Category",
      "type": "object",
      "description": "A category for trainings in the catalog.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "counselorId": { "type": "string" }
      },
      "required": ["id", "name", "counselorId"]
    },
    "Training": {
      "title": "Training",
      "type": "object",
      "description": "Represents a single training in the catalog.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "categoryId": { "type": "string" },
        "authorId": { "type": "string" },
        "duration": { "type": "number", "description": "Estimated duration in hours." },
        "price": { "type": "number" },
        "isPublic": { "type": "boolean", "default": false },
        "isPlatformPublic": { "type": "boolean", "default": false },
        "imageUrl": { "type": "string", "format": "uri" },
        "type": { "type": "string", "enum": ["internal", "external"] },
        "externalUrl": { "type": "string", "format": "uri" },
        "prerequisites": { "type": "array", "items": { "type": "string" } },
        "entryLevel": { "type": "array", "items": { "type": "string" } },
        "exitLevel": { "type": "array", "items": { "type": "string" } },
        "financingOptions": { "type": "array", "items": { "type": "string" } },
        "moduleIds": { "type": "array", "items": { "type": "string" } }
      },
      "required": ["id", "title", "authorId", "categoryId", "type"]
    },
    "TrainingModule": {
      "title": "Training Module",
      "type": "object",
      "description": "A content module within an internal training.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "content": { "type": "string", "format": "html" },
        "videoUrl": { "type": "string", "format": "uri" },
        "pdfUrl": { "type": "string", "format": "uri" },
        "counselorId": { "type": "string" },
        "quiz": { "$ref": "#/entities/Quiz" }
      },
      "required": ["id", "title", "content", "counselorId"]
    },
    "Quiz": {
      "title": "Quiz",
      "type": "object",
      "description": "A quiz to test knowledge, can be part of a training or standalone.",
      "properties": {
        "id": { "type": "string" },
        "moduleId": { "type": "string" },
        "title": { "type": "string" },
        "successPercentage": { "type": "number" },
        "questions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "questionText": { "type": "string" },
              "options": { "type": "array", "items": { "type": "string" } },
              "correctAnswerIndex": { "type": "number" }
            }
          }
        }
      },
      "required": ["id", "moduleId", "title", "questions"]
    },
    "LearningPath": {
      "title": "Learning Path",
      "type": "object",
      "description": "A structured sequence of trainings and quizzes.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "authorId": { "type": "string" },
        "steps": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": { "type": "string", "enum": ["training", "quiz"] },
              "itemId": { "type": "string", "description": "ID of the Training or Quiz." },
              "order": { "type": "number" }
            }
          }
        }
      },
      "required": ["id", "title", "authorId", "steps"]
    },
    "PathEnrollment": {
      "title": "Path Enrollment",
      "type": "object",
      "description": "Tracks a user's enrollment and progress in a learning path.",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "pathId": { "type": "string" },
        "enrolledAt": { "type": "string", "format": "date-time" },
        "progress": {
          "type": "object",
          "description": "Key-value pair where key is step itemId and value is completion status.",
          "additionalProperties": { "type": "string", "enum": ["completed", "in_progress"] }
        },
        "quizScores": {
          "type": "object",
          "description": "Key-value pair where key is quiz ID and value is the score.",
          "additionalProperties": { "type": "number" }
        }
      },
      "required": ["id", "userId", "pathId", "enrolledAt"]
    },
    "ProductCategory": {
      "title": "Product Category",
      "type": "object",
      "description": "A category for products in the Aura tool.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "counselorId": { "type": "string" }
      },
      "required": ["id", "name", "counselorId"]
    },
    "Product": {
      "title": "Product",
      "type": "object",
      "description": "Represents a single product in the Aura catalog.",
      "properties": {
        "id": { "type": "string" },
        "counselorId": { "type": "string" },
        "title": { "type": "string" },
        "categoryId": { "type": "string", "description": "Reference to ProductCategory" },
        "description": { "type": "string" },
        "isFeatured": { "type": "boolean" },
        "versions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": { "type": "string" },
              "name": { "type": "string" },
              "imageUrl": { "type": "string", "format": "uri" },
              "price": { "type": "number" },
              "characteristics": { "type": "array", "items": { "type": "string" } }
            },
            "required": ["id", "name"]
          }
        },
        "contraindications": { "type": "array", "items": { "type": "string" } },
        "holisticProfile": { "type": "array", "items": { "type": "string" } },
        "pathologies": { "type": "array", "items": { "type": "string" } },
        "ctaLink": {
            "type": "string",
            "format": "uri",
            "description": "Optional external link for the product CTA button."
        }
      },
      "required": ["counselorId", "title", "categoryId", "versions"]
    },
    "Protocole": {
      "title": "Protocole",
      "type": "object",
      "description": "Represents a wellness or care protocol.",
      "properties": {
        "id": { "type": "string" },
        "counselorId": { "type": "string" },
        "name": { "type": "string" },
        "contraindications": { "type": "array", "items": { "type": "string" } },
        "pathologies": { "type": "array", "items": { "type": "string" } },
        "holisticProfile": { "type": "array", "items": { "type": "string" } },
        "steps": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": { "type": "string" },
              "title": { "type": "string" },
              "description": { "type": "string" },
              "imageUrl": { "type": "string", "format": "uri" }
            },
            "required": ["id", "title"]
          }
        }
      },
      "required": ["counselorId", "name"]
    },
     "WellnessSheet": {
      "title": "Wellness Sheet",
      "type": "object",
      "description": "Represents a wellness sheet created for a client.",
      "properties": {
        "id": { "type": "string" },
        "counselorId": { "type": "string" },
        "clientId": { "type": "string" },
        "clientName": { "type": "string" },
        "gender": { "type": "string", "enum": ["male", "female", "other"] },
        "dob": { "type": "string", "format": "date" },
        "foodHabits": { "type": "array", "items": { "type": "string" } },
        "allergies": { "type": "array", "items": { "type": "string" } },
        "contraindications": { "type": "array", "items": { "type": "string" } },
        "holisticProfile": { "type": "array", "items": { "type": "string" } },
        "bmiRecords": {
            "type": "array",
            "description": "Stores the last 5 BMI calculations.",
            "items": {
                "type": "object",
                "properties": {
                    "date": { "type": "string", "format": "date-time" },
                    "weight": { "type": "number" },
                    "height": { "type": "number" },
                    "bmi": { "type": "number" },
                    "interpretation": { "type": "string" }
                }
            }
        },
        "createdAt": { "type": "string", "format": "date-time" },
        "updatedAt": { "type": "string", "format": "date-time" }
      },
      "required": ["counselorId", "clientId", "clientName", "createdAt", "updatedAt"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/agencies/{agencyId}",
        "definition": {
          "entityName": "Agency",
          "schema": { "$ref": "#/backend/entities/Agency" },
          "description": "Stores the single agency profile for platform-wide personalization. There should only be one document in this collection."
        }
      },
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/backend/entities/User"
          },
          "description": "Stores all user profiles (superadmin, counselors, members). Path-based ownership enables secure access based on user ID. counselorIds is used for data segregation."
        }
      },
       {
        "path": "/users/{userId}/wellness_sheets/{sheetId}",
        "definition": {
          "entityName": "WellnessSheet",
          "schema": { "$ref": "#/entities/WellnessSheet" },
          "description": "Stores wellness sheets created by a counselor for their clients."
        }
      },
      {
        "path": "/minisites/{counselorId}",
        "definition": {
          "entityName": "CounselorProfile",
          "schema": {
            "$ref": "#/backend/entities/CounselorProfile"
          },
          "description": "Stores the public-facing profile data for a counselor's mini-site. The document ID is the counselor's user ID."
        }
      },
      {
        "path": "/contact_messages/{messageId}",
        "definition": {
          "entityName": "ContactMessage",
          "schema": { "$ref": "#/entities/ContactMessage" },
          "description": "Stores messages submitted from public contact forms."
        }
      },
      {
        "path": "/gdpr_requests/{requestId}",
        "definition": {
          "entityName": "GdprRequest",
          "schema": { "$ref": "#/backend/entities/GdprRequest" },
          "description": "Stores user requests related to GDPR for tracking and management."
        }
      },
      {
        "path": "/support_requests/{requestId}",
        "definition": {
          "entityName": "SupportRequest",
          "schema": { "$ref": "#/backend/entities/SupportRequest" },
          "description": "Stores technical support requests for platform administrators."
        }
      },
      {
        "path": "/live_follow_up_requests/{requestId}",
        "definition": {
            "entityName": "LiveFollowUpRequest",
            "schema": { "$ref": "#/entities/LiveFollowUpRequest" },
            "description": "Stores follow-up requests from participants after a live Prisme session."
        }
      },
      {
        "path": "/training_requests/{requestId}",
        "definition": {
            "entityName": "TrainingRequest",
            "schema": { "$ref": "#/entities/TrainingRequest" },
            "description": "Stores user requests for information about specific trainings."
        }
      },
      {
        "path": "/faq_items/{itemId}",
        "definition": {
          "entityName": "FaqItem",
          "schema": { "$ref": "#/backend/entities/FaqItem" },
          "description": "Stores all FAQ items. Items with scope 'general' are for the whole platform, 'counselor' scope requires a counselorId."
        }
      },
       {
        "path": "/users/{userId}/quotes/{quoteId}",
        "definition": {
          "entityName": "Quote",
          "schema": {
            "$ref": "#/backend/entities/Quote"
          },
          "description": "Stores quotes for a specific user. Path-based ownership ensures only the user can access their quotes."
        }
      },
      {
        "path": "/users/{userId}/invoices/{invoiceId}",
        "definition": {
          "entityName": "Invoice",
          "schema": {
            "$ref": "#/backend/entities/Invoice"
          },
          "description": "Stores invoices for a specific user. Path-based ownership ensures only the user can access their invoices."
        }
      },
      {
        "path": "/users/{userId}/appointments/{appointmentId}",
        "definition": {
          "entityName": "Appointment",
          "schema": {
            "$ref": "#/backend/entities/Appointment"
          },
          "description": "Stores appointments for a specific user. Path-based ownership ensures only the user can access their appointments."
        }
      },
      {
        "path": "/users/{userId}/messages/{messageId}",
        "definition": {
          "entityName": "Message",
          "schema": {
            "$ref": "#/backend/entities/Message"
          },
          "description": "Stores messages for a specific user. Path-based ownership secures message access."
        }
      },
      {
        "path": "/users/{userId}/consents/{consentId}",
        "definition": {
          "entityName": "Consent",
          "schema": {
            "$ref": "#/backend/entities/Consent"
          },
          "description": "Stores consent records for a specific user. Path-based ownership guarantees data privacy."
        }
      },
      {
        "path": "/landing_pages/{landingPageId}",
        "definition": {
          "entityName": "LandingPage",
          "schema": {
            "$ref": "#/backend/entities/LandingPage"
          },
          "description": "Stores landing page configurations. Access controlled by administrator roles."
        }
      },
      {
        "path": "/email_campaigns/{emailCampaignId}",
        "definition": {
          "entityName": "EmailCampaign",
          "schema": {
            "$ref": "#/backend/entities/EmailCampaign"
          },
          "description": "Stores email campaigns. Access controlled by administrator roles."
        }
      },
      {
        "path": "/beta_scenarios/{scenarioId}",
        "definition": {
            "entityName": "BetaScenario",
            "schema": { "$ref": "#/entities/BetaScenario" },
            "description": "Stores beta testing scenarios created by admins."
        }
      },
      {
        "path": "/beta_tests_results/{resultId}",
        "definition": {
            "entityName": "BetaTestResult",
            "schema": { "$ref": "#/entities/BetaTestResult" },
            "description": "Stores results from public beta testers."
        }
      },
      {
        "path": "/blog_categories/{categoryId}",
        "definition": {
          "entityName": "BlogCategory",
          "schema": { "$ref": "#/entities/BlogCategory" },
          "description": "Stores categories for blog articles."
        }
      },
      {
        "path": "/articles/{articleId}",
        "definition": {
          "entityName": "BlogArticle",
          "schema": { "$ref": "#/entities/BlogArticle" },
          "description": "Stores blog articles written by counselors."
        }
      },
      {
        "path": "/events/{eventId}",
        "definition": {
          "entityName": "Event",
          "schema": { "$ref": "#/entities/Event" },
          "description": "Stores event information created by counselors or admins."
        }
      },
      {
        "path": "/events/{eventId}/registrations/{registrationId}",
        "definition": {
          "entityName": "EventRegistration",
          "schema": { "$ref": "#/entities/EventRegistration" },
          "description": "Stores user registrations for a specific event."
        }
      },
       {
        "path": "/events/{eventId}/consultations/{consultationId}",
        "definition": {
          "entityName": "Consultation",
          "schema": { "$ref": "#/entities/Consultation" },
          "description": "Stores individual consultations for a Prisme live session."
        }
      },
      {
        "path": "/tirageModels/{modelId}",
        "definition": {
          "entityName": "TirageModel",
          "schema": {
            "$ref": "#/entities/TirageModel"
          },
          "description": "Stores cartomancy spread models created by counselors."
        }
      },
      {
        "path": "/cardDecks/{deckId}",
        "definition": {
          "entityName": "CardDeck",
          "schema": { "$ref": "#/entities/CardDeck" },
          "description": "Stores card decks (tarot, oracle, etc.) created by counselors."
        }
      },
      {
        "path": "/cardDecks/{deckId}/cards/{cardId}",
        "definition": {
          "entityName": "Card",
          "schema": { "$ref": "#/entities/Card" },
          "description": "Stores individual cards within a specific deck."
        }
      },
      {
        "path": "/clairvoyanceModels/{modelId}",
        "definition": {
          "entityName": "ClairvoyanceModel",
          "schema": { "$ref": "#/entities/ClairvoyanceModel" },
          "description": "Stores models for clairvoyance and pendulum readings."
        }
      },
      {
        "path": "/training_modules/{moduleId}",
        "definition": {
          "entityName": "TrainingModule",
          "schema": { "$ref": "#/entities/TrainingModule" },
          "description": "Stores individual training modules."
        }
      },
      {
        "path": "/training_categories/{categoryId}",
        "definition": {
            "entityName": "TrainingCategory",
            "schema": { "$ref": "#/entities/TrainingCategory" },
            "description": "Stores categories for training courses."
        }
      },
      {
        "path": "/trainings/{trainingId}",
        "definition": {
          "entityName": "Training",
          "schema": { "$ref": "#/entities/Training" },
          "description": "Stores the main information for a training course."
        }
      },
      {
        "path": "/product_categories/{categoryId}",
        "definition": {
            "entityName": "ProductCategory",
            "schema": { "$ref": "#/entities/ProductCategory" },
            "description": "Stores categories for products in the Aura tool."
        }
      },
      {
        "path": "/products/{productId}",
        "definition": {
          "entityName": "Product",
          "schema": { "$ref": "#/entities/Product" },
          "description": "Stores products for the Aura tool."
        }
      }
    ],
    "reasoning": "The architecture is simplified to a single-app model centered around counselors. The `Membership` entity and `/memberships` collection are removed. Data segregation is now achieved using a `counselorId` field on `User`, `Quote`, `Invoice`, and `Contract` documents. This avoids complex lookups in security rules. Firestore collections for quotes, invoices, plans, and contracts are now at the root level, relying on `counselorId` for security rules, which is a more scalable and direct approach for this model."
  }
}
